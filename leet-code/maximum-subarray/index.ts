// https://leetcode.com/problems/maximum-subarray/

// Given an integer array nums,
// find the contiguous subarray (containing at least one number)
// which has the largest sum and return its sum.

// A subarray is a contiguous part of an array.

// Constraints:
//     1 <= nums.length <= 105
//     -104 <= nums[i] <= 104

import { test } from "../test-utils";
import { bruteForce } from "./bruteForce";
import { discardNegativePrefix } from "./discardNegativePrefix";

export const testCases: [number[], number][] = [
  [[-2, 1], 1],
  [[-2, 1, -3, 4, -1, 2, 1, -5, 4], 6],
  [[1], 1],
  [[1, 1], 2],
  [[2, 2], 4],
  [[1, 1, 1], 3],
  [[1, 1, 1, -1], 3],
  [[-1, 1, 1, 1], 3],
  [[5, 4, -1, 7, 8], 23],
  [[-1, 1, 1, 1], 3],
  [[1, 1, -1, 1, 1], 3],
  [[1, 1, -1], 2],
  [
    [
      9031, 8403, -7093, 9614, 3293, -1900, -9046, -6142, 8940, -2994, 9255,
      8669, -147, -486, -1025, 5770, 2466, 2413, 5836, -4368, 845, 6757, -1772,
      4250, -9947, 3148, 34, -4434, 9394, -9918, -5745, -825, 8224, -9168,
      -4024, -707, -9722, 6837, -2304, 1, -6184, -8630, -6971, 3048, 2485, 1523,
      5482, -5494, -5726, 8467, -3514, -3323, -7617, -1333, 7936, -4954, -360,
      2105, -9959, -9225, -5063, 4316, -6291, -7559, -6693, 601, 9932, -8461,
      6002, -4966, 6819, 4550, -6322, -1623, 8690, 9113, 1595, -2308, -9914,
      489, -5251, -3128, 2129, -5613, 900, 9430, -5394, -885, 2977, 5685, 6346,
      1254, 5553, 6841, -8177, -3150, 579, 7912, 9327, -9716, 5912, -732, -8074,
      -5324, 9194, 8918, -9731, -8867, 7308, -5961, 8594, -5178, 6399, 1603,
      9997, 1817, -2805, 6425, 4427, -4964, 9399, 8247, 2090, 3331, -4163,
      -2238, 994, -4218, 6634, 5697, 3422, -5790, -770, 2043, -5879, 4788, 1395,
      259, 2113, 500, -9080, 1119, 6035, -4581, 3500, -5568, -1419, 9230, 6129,
      6358, 8514, -9363, 4129, 4569, -2565, 8657, -9154, -6080, 7884, -6491,
      9704, 3865, -348, -9163, 2690, -6512, 8351, -5016, 8051, 6301, -6112,
      8361, -9015, 44, -1645, -9272, 3814, 6863, -5724, 7745, 6115, 851, 2856,
      -8748, -142, 2205, 6361, -9179, 2105, 1628, -9745, -2027, 7946, 2423, 322,
      -4139, 5444, -669, -6071, -4414, 474, 7542, 9425, 1083, 6377, -8840, 1167,
      -7957, 6348, -4820, 7859, -9674, 8703, -1826, -1263, -3074, -1260, 397,
      -2936, -1951, -7380, -4286, 2899, -2658, -5719, 4809, 5730, 7212, 6439,
      912, 8746, 1628, 9805, -8009, -2872, 5388, -3161, -9560, -5682, 3142,
      7920, 3497, 2688, 6224, -9211, 5780, -4902, 2097, 3725, -1249, 2164,
      -1272, 6219, -9690, -1663, -4361, 560, 9633, 4856, -3119, 6174, 7226,
      1071, -3183, 1246, 280, 2676, -3317, 8310, 1667, 9930, -7383, -3675, -643,
      -4786, -6248, -1569, 3578, 297, 3177, -5880, -7066, -9164, 4162, -1015,
      -2575, 8553, 7311, -6856, -4991, 9276, 2483, 926, -8927, 1541, -6018,
      2842, -5296, -6499, 6966, 7697, -3478, 172, -5112, 2663, -6113, -1554,
      -8513, 5594, 474, -532, 4888, 3996, 1619, -5064, -3947, -7310, -4159,
      -9593, 1380, 7634, -5311, 1951, 7629, 9436, 9203, 6508, -1487, -7616,
      -5488, -8434, 2563, 8113, -8982, 7654, 3093, -2694, 3102, 1826, -9884,
      -9147, 4653, -4602, 207, -6994, -4133, 1699, -5475, -3725, 9259, 812,
      -6602, 5297, -8839, -6808, 2497, 9380, -3397, -7033, 7043, -9932, -9229,
      6008, 5618, -8646, -5909, -3770, 5719, -5244, 1874, 1510, -934, 9459,
      -5377, -1372, -8251, 369, -9740, -3139, -1656, -5240, -9162, -5333, 6825,
      6166, -8971, -8478, -5024, -3360, -6838, 6871, 6071, 9627, -9886, 2588,
      -404, 842, 3511, -3894, -5868, 4806, 8112, 8268, 121, -2333, -1889, 3643,
      -5273, -8225, -4553, 9417, -8725, 9068, 3407, 9552, 821, 965, 2768, 4028,
      -7580, -7377, 5912, 2348, -4601, 2286, -9567, -7460, 1509, -7525, 8016,
      9840, -4429, -8462, -2122, -3419, -4406, -9052, -5661, -2883, 6425, 8791,
      -1267, -846, -3006, 7730, -4207, -7078, 930, -3096, -4214, 1673, -31,
      -3179, -7439, -8130, -6961, -481, 8489, 2892, -4580, -5140, 9478, -5203,
      5721, -6990, 3545, -2169, 5143, -1231, -6511, 7611, -3249, 2503, -5119,
      9999, 1335, 940, 7223, 5217, -4608, -3688, 1565, -3068, 0, -8359, 1689,
      3822, 9345, -1951, -5587, 6748, -1873, 7714, -5744, -5904, -2003, -5071,
      3491, -4860, 4081, -7039, -9324, -454, -9043, -1488, -9970, 7277, -3326,
      -259, -5058, 8958, -583, -6650, -6338, 5614, -1474, 5570, 9373, 6134,
      -3137, -2517, 5148, -1039, -2331, 343, 5940, 5898, -4747, -670, 8338,
      8914, 2268, 2333, 5842, -4321, 4370, -7090, -7923, -1567, 1287, -863,
      -2928, 8624, -1448, 9946, -625, -9959, 8801, 8781, 2182, -5788, -8448,
      -4469, -3662, 2924, -4788, 9247, 4643, 8171, -5485, 5605, 5937, 3472,
      -9326, -2233, -8487, 1969, -3670, -301, 3701, 6476, 2657, -7593, -6227,
      -3215, 6108, -7653, -6258, 735, -2171, -9602, -2788, 7080, -5727, 602,
      -3683, 4570, -983, 6709, 6995, -3932, 8457, 3734, -501, -936, -6498, 7567,
      -5318, 4653, -9699, -2027, 9359, -2044, -6136, -1702, -7418, 4281, 2950,
      4864, 8327, 5932, -637, -8968, 3297, 1043, 7708, -7753, 2740, 6222, -1436,
      9661, -6972, 5641, -1743, -1932, 3662, 4552, -432, 916, -3429, -4047,
      8353, 9063, -9641, 1272, -9704, -1785, -7879, 6889, -6875, -9401, 3134,
      1157, 2694, 2073, -8243, -9417, 3837, 1227, 9520, 3710, -8650, -4739,
      6017, 3560, 4261, -1765, 1396, -2607, -8539, 1971, -3677, -8661, -9587,
      -6004, -6488, 4662, 8662, -1185, -5019, -1165, 5742, -2314, 2146, -2388,
      1410, -3745, -5319, -6890, -1197, -3090, 1659, 6187, 3363, 9501, 7494,
      -3137, -2517, 5148, -1039, -2331, 343, 5940, 5898, -4747, -670, 8338,
      8914, 2268, 2333, 5842, -4321, 4370, -7090, -7923, -1567, 1287, -863,
      -2928, 8624, -1448, 9946, -625, -9959, 8801, 8781, 2182, -5788, -8448,
      -4469, -3662, 2924, -4788, 9247, 4643, 8171, -5485, 5605, 5937, 3472,
      -9326, -2233, -8487, 1969, -3670, -301, 3701, 6476, 2657, -7593, -6227,
      -3215, 6108, -7653, -6258, 735, -2171, -9602, -2788, 7080, -5727, 602,
      -3683, 4570, -983, 6709, 6995, -3932, 8457, 3734, -501, -936, -6498, 7567,
      -5318, 4653, -9699, -2027, 9359, -2044, -6136, -1702, -7418, 4281, 2950,
      4864, 8327, 5932, -637, -8968, 3297, 1043, 7708, -7753, 2740, 6222, -1436,
      9661, -6972, 5641, -1743, -1932, 3662, 4552, -432, 916, -3429, -4047,
      8353, 9063, -9641, 1272, -9704, -1785, -7879, 6889, -6875, -9401, 3134,
      1157, 2694, 2073, -8243, -9417, 3837, 1227, 9520, 3710, -8650, -4739,
      6017, 3560, 4261, -1765, 1396, -2607, -8539, 1971, -3677, -8661, -9587,
      -6004, -6488, 4662, 8662, -1185, -5019, -1165, 5742, -2314, 2146, -2388,
      1410, -3745, -5319, -6890, -1197, -3090, 1659, 6187, 3363, 9501, 7494,
      -3137, -2517, 5148, -1039, -2331, 343, 5940, 5898, -4747, -670, 8338,
      8914, 2268, 2333, 5842, -4321, 4370, -7090, -7923, -1567, 1287, -863,
      -2928, 8624, -1448, 9946, -625, -9959, 8801, 8781, 2182, -5788, -8448,
      -4469, -3662, 2924, -4788, 9247, 4643, 8171, -5485, 5605, 5937, 3472,
      -9326, -2233, -8487, 1969, -3670, -301, 3701, 6476, 2657, -7593, -6227,
      -3215, 6108, -7653, -6258, 735, -2171, -9602, -2788, 7080, -5727, 602,
      -3683, 4570, -983, 6709, 6995, -3932, 8457, 3734, -501, -936, -6498, 7567,
      -5318, 4653, -9699, -2027, 9359, -2044, -6136, -1702, -7418, 4281, 2950,
      4864, 8327, 5932, -637, -8968, 3297, 1043, 7708, -7753, 2740, 6222, -1436,
      9661, -6972, 5641, -1743, -1932, 3662, 4552, -432, 916, -3429, -4047,
      8353, 9063, -9641, 1272, -9704, -1785, -7879, 6889, -6875, -9401, 3134,
      1157, 2694, 2073, -8243, -9417, 3837, 1227, 9520, 3710, -8650, -4739,
      6017, 3560, 4261, -1765, 1396, -2607, -8539, 1971, -3677, -8661, -9587,
      -6004, -6488, 4662, 8662, -1185, -5019, -1165, 5742, -2314, 2146, -2388,
      1410, -3745, -5319, -6890, -1197, -3090, 1659, 6187, 3363, 9501, 7494,
      -3137, -2517, 5148, -1039, -2331, 343, 5940, 5898, -4747, -670, 8338,
      8914, 2268, 2333, 5842, -4321, 4370, -7090, -7923, -1567, 1287, -863,
      -2928, 8624, -1448, 9946, -625, -9959, 8801, 8781, 2182, -5788, -8448,
      -4469, -3662, 2924, -4788, 9247, 4643, 8171, -5485, 5605, 5937, 3472,
      -9326, -2233, -8487, 1969, -3670, -301, 3701, 6476, 2657, -7593, -6227,
      -3215, 6108, -7653, -6258, 735, -2171, -9602, -2788, 7080, -5727, 602,
      -3683, 4570, -983, 6709, 6995, -3932, 8457, 3734, -501, -936, -6498, 7567,
      -5318, 4653, -9699, -2027, 9359, -2044, -6136, -1702, -7418, 4281, 2950,
      4864, 8327, 5932, -637, -8968, 3297, 1043, 7708, -7753, 2740, 6222, -1436,
      9661, -6972, 5641, -1743, -1932, 3662, 4552, -432, 916, -3429, -4047,
      8353, 9063, -9641, 1272, -9704, -1785, -7879, 6889, -6875, -9401, 3134,
      1157, 2694, 2073, -8243, -9417, 3837, 1227, 9520, 3710, -8650, -4739,
      6017, 3560, 4261, -1765, 1396, -2607, -8539, 1971, -3677, -8661, -9587,
      -6004, -6488, 4662, 8662, -1185, -5019, -1165, 5742, -2314, 2146, -2388,
      1410, -3745, -5319, -6890, -1197, -3090, 1659, 6187, 3363, 9501, 7494,
      -3137, -2517, 5148, -1039, -2331, 343, 5940, 5898, -4747, -670, 8338,
      8914, 2268, 2333, 5842, -4321, 4370, -7090, -7923, -1567, 1287, -863,
      -2928, 8624, -1448, 9946, -625, -9959, 8801, 8781, 2182, -5788, -8448,
      -4469, -3662, 2924, -4788, 9247, 4643, 8171, -5485, 5605, 5937, 3472,
      -9326, -2233, -8487, 1969, -3670, -301, 3701, 6476, 2657, -7593, -6227,
      -3215, 6108, -7653, -6258, 735, -2171, -9602, -2788, 7080, -5727, 602,
      -3683, 4570, -983, 6709, 6995, -3932, 8457, 3734, -501, -936, -6498, 7567,
      -5318, 4653, -9699, -2027, 9359, -2044, -6136, -1702, -7418, 4281, 2950,
      4864, 8327, 5932, -637, -8968, 3297, 1043, 7708, -7753, 2740, 6222, -1436,
      9661, -6972, 5641, -1743, -1932, 3662, 4552, -432, 916, -3429, -4047,
      8353, 9063, -9641, 1272, -9704, -1785, -7879, 6889, -6875, -9401, 3134,
      1157, 2694, 2073, -8243, -9417, 3837, 1227, 9520, 3710, -8650, -4739,
      6017, 3560, 4261, -1765, 1396, -2607, -8539, 1971, -3677, -8661, -9587,
      -6004, -6488, 4662, 8662, -1185, -5019, -1165, 5742, -2314, 2146, -2388,
      1410, -3745, -5319, -6890, -1197, -3090, 1659, 6187, 3363, 9501, 7494,
      -3137, -2517, 5148, -1039, -2331, 343, 5940, 5898, -4747, -670, 8338,
      8914, 2268, 2333, 5842, -4321, 4370, -7090, -7923, -1567, 1287, -863,
      -2928, 8624, -1448, 9946, -625, -9959, 8801, 8781, 2182, -5788, -8448,
      -4469, -3662, 2924, -4788, 9247, 4643, 8171, -5485, 5605, 5937, 3472,
      -9326, -2233, -8487, 1969, -3670, -301, 3701, 6476, 2657, -7593, -6227,
      -3215, 6108, -7653, -6258, 735, -2171, -9602, -2788, 7080, -5727, 602,
      -3683, 4570, -983, 6709, 6995, -3932, 8457, 3734, -501, -936, -6498, 7567,
      -5318, 4653, -9699, -2027, 9359, -2044, -6136, -1702, -7418, 4281, 2950,
      4864, 8327, 5932, -637, -8968, 3297, 1043, 7708, -7753, 2740, 6222, -1436,
      9661, -6972, 5641, -1743, -1932, 3662, 4552, -432, 916, -3429, -4047,
      8353, 9063, -9641, 1272, -9704, -1785, -7879, 6889, -6875, -9401, 3134,
      1157, 2694, 2073, -8243, -9417, 3837, 1227, 9520, 3710, -8650, -4739,
      6017, 3560, 4261, -1765, 1396, -2607, -8539, 1971, -3677, -8661, -9587,
      -6004, -6488, 4662, 8662, -1185, -5019, -1165, 5742, -2314, 2146, -2388,
      1410, -3745, -5319, -6890, -1197, -3090, 1659, 6187, 3363, 9501, 7494,
      -3137, -2517, 5148, -1039, -2331, 343, 5940, 5898, -4747, -670, 8338,
      8914, 2268, 2333, 5842, -4321, 4370, -7090, -7923, -1567, 1287, -863,
      -2928, 8624, -1448, 9946, -625, -9959, 8801, 8781, 2182, -5788, -8448,
      -4469, -3662, 2924, -4788, 9247, 4643, 8171, -5485, 5605, 5937, 3472,
      -9326, -2233, -8487, 1969, -3670, -301, 3701, 6476, 2657, -7593, -6227,
      -3215, 6108, -7653, -6258, 735, -2171, -9602, -2788, 7080, -5727, 602,
      -3683, 4570, -983, 6709, 6995, -3932, 8457, 3734, -501, -936, -6498, 7567,
      -5318, 4653, -9699, -2027, 9359, -2044, -6136, -1702, -7418, 4281, 2950,
      4864, 8327, 5932, -637, -8968, 3297, 1043, 7708, -7753, 2740, 6222, -1436,
      9661, -6972, 5641, -1743, -1932, 3662, 4552, -432, 916, -3429, -4047,
      8353, 9063, -9641, 1272, -9704, -1785, -7879, 6889, -6875, -9401, 3134,
      1157, 2694, 2073, -8243, -9417, 3837, 1227, 9520, 3710, -8650, -4739,
      6017, 3560, 4261, -1765, 1396, -2607, -8539, 1971, -3677, -8661, -9587,
      -6004, -6488, 4662, 8662, -1185, -5019, -1165, 5742, -2314, 2146, -2388,
      1410, -3745, -5319, -6890, -1197, -3090, 1659, 6187, 3363, 9501, 7494,
      -3137, -2517, 5148, -1039, -2331, 343, 5940, 5898, -4747, -670, 8338,
      8914, 2268, 2333, 5842, -4321, 4370, -7090, -7923, -1567, 1287, -863,
      -2928, 8624, -1448, 9946, -625, -9959, 8801, 8781, 2182, -5788, -8448,
      -4469, -3662, 2924, -4788, 9247, 4643, 8171, -5485, 5605, 5937, 3472,
      -9326, -2233, -8487, 1969, -3670, -301, 3701, 6476, 2657, -7593, -6227,
      -3215, 6108, -7653, -6258, 735, -2171, -9602, -2788, 7080, -5727, 602,
      -3683, 4570, -983, 6709, 6995, -3932, 8457, 3734, -501, -936, -6498, 7567,
      -5318, 4653, -9699, -2027, 9359, -2044, -6136, -1702, -7418, 4281, 2950,
      4864, 8327, 5932, -637, -8968, 3297, 1043, 7708, -7753, 2740, 6222, -1436,
      9661, -6972, 5641, -1743, -1932, 3662, 4552, -432, 916, -3429, -4047,
      8353, 9063, -9641, 1272, -9704, -1785, -7879, 6889, -6875, -9401, 3134,
      1157, 2694, 2073, -8243, -9417, 3837, 1227, 9520, 3710, -8650, -4739,
      6017, 3560, 4261, -1765, 1396, -2607, -8539, 1971, -3677, -8661, -9587,
      -6004, -6488, 4662, 8662, -1185, -5019, -1165, 5742, -2314, 2146, -2388,
      1410, -3745, -5319, -6890, -1197, -3090, 1659, 6187, 3363, 9501, 7494,
      1484,
    ],
    161688,
  ],
];

test(bruteForce, testCases);

test(discardNegativePrefix, testCases);
